<!doctype html><html lang=ro prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=description content><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=keywords content="programming,
java,
tutorial,
"><meta property="og:type" content="article"><meta property="og:description" content><meta property="og:title" content="List, ArrayList, LinkedList"><meta property="og:site_name" content="Oleac캒 profesor"><meta property="og:image" content><meta property="og:image:type" content="image/jpeg"><meta property="og:image:width" content><meta property="og:image:height" content><meta property="og:url" content="https://babinion.xyz/note/list-arraylist-linkedlist/"><meta property="og:locale" content="ro"><meta property="article:published_time" content="2021-01-01
"><meta property="article:modified_time" content="2021-01-01
"><meta property="article:tag" content="programming"><meta property="article:tag" content="java"><meta property="article:tag" content="tutorial"><title>List, ArrayList, LinkedList</title><link rel=canonical href=https://babinion.xyz/note/list-arraylist-linkedlist/><link rel=stylesheet href=https://unpkg.com/tachyons@4.11.1/css/tachyons.min.css><link rel=stylesheet href=https://babinion.xyz/css/style.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/highlightjs@9.12.0/styles/github-gist.css><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=apple-touch-icon href=/apple-touch-icon.png></head><body lang=ro class="sans-serif w-90 w-80-m w-60-ns center mv2 mv5-ns" itemscope itemtype=http://schema.org/Article><span class=b>/</span>
<a href=https://babinion.xyz/ class="b bb bw1 pb1 no-underline black">Oleac캒 profesor</a>
<span class=b>/</span>
<a href=/note class="b bb bw1 pb1 no-underline black">noti탵e</a><section id=main class=mt5><h1 itemprop=name id=title>List, ArrayList, LinkedList</h1><span class="f6 gray">January 1, 2021</span><article itemprop=articleBody id=content class="w-90 lh-copy"><h2 id=aten탵ie>ATEN탴IE</h2><p>Informa탵ia de aici este doar ceea ce 칥mi imaginez eu 칥n cap c칙nd m캒 g칙ndesc la acest subiect. <strong>E posibil ca 90% din ceea ce am scris mai jos s캒 fie gre탳it.</strong> Scopul acestei pagini este de a oferi o prezentare general캒, foarte abstract캒 탳i pe scurt a informa탵iei.</p><h2 id=cio-za-arraylist>Cio za ArrayList?</h2><h3 id=implementarea>Implementarea</h3><p><code>List</code> - este interfa탵a. <code>ArrayList</code> 탳i <code>LinkedList</code> o implementeaz캒 (<code>implements</code>).</p><p><code>ArrayList</code> - o list캒; un tablou obi탳nuit; acela탳i lucru ca un vector (nu confunda탵i cu clasa <code>Vector</code> din Java. Astea dou캒 sunt <a href="https://stackoverflow.com/questions/1386275/why-is-java-vector-and-stack-class-considered-obsolete-or-deprecated?noredirect=1&lq=1">aproape</a> acelea탳i, doar c캒 listele sunt <em>unsynchronized</em>). Practic, la creare se aloc캒 o bucat캒 de memorie, necesar캒 pentru un num캒r anumit de elemente. Dac캒 se adaug캒 mai multe elemente - o bucat캒 칥nc캒 mai mare se aloc캒, iar elementele din bucata precedent캒 (plin캒) sunt copiate 칥n bucata nou캒. Atunci un element este 탳ters, elementele de dup캒 elementul 탳ters trebuiesc recopiate. Recopierea folose탳te mult캒 memorie.</p><p><code>LinkedList</code> - list캒 (dublu)칥nl캒n탵uit캒. La creare nu se aloc캒 memorie. C칙nd se adaug캒 un element nou - se creaz캒 un pointer care 칥l leag캒 de elementul precedent 탳i de cel urm캒tor. De obicei, asta va folosi mai mult캒 memorie dec칙t un <code>ArrayList</code>. Atunci c칙nd un element este 탳ters, singurul lucru care se schimb캒 este leg캒tura (pointerul elementului dinaintea celui 탳ters va fi legat de cel de dup캒 cel 탳ters).</p><h3 id=ce-탳i-c칙nd-folosim>Ce 탳i c칙nd folosim?</h3><p>Folosim <code>ArrayList</code> c칙nd vrem s캒 <strong>stoc캒m</strong> (salv캒m, memor캒m, citim 탳i dup캒 acces캒m etc.) date.</p><p>Folosim <code>LinkedList</code> c칙nd vrem s캒 <strong>manipul캒m</strong> datele (ad캒ug캒m, 탳tergem, modific캒m). Keep in mind c캒 aceast캒 regul캒 nu trebuie dus캒 la absurd (nu folosi <code>LinkedList</code> c칙nd ai de 탳ters 3-4 elemente, diferen탵a va fi minimal캒, iar cel mai probabil un <code>ArrayList</code> va fi mai eficient).</p><h3 id=array-static-vs-lista>Array static vs Lista</h3><p>Dac캒 탳tim dinainte c칙t de mare va fi array-ul dinainte (capacitatea sa maxim캒), folosim un array static (<code>type[] a = new type[n]</code>); (cel pu탵in, a탳a ar spune regula)</p><p>Dac캒 nu - folosim o list캒 (<code>ArrayList</code>). Cu toate acestea, eu folosesc <code>ArrayList</code> 칥n ambele cazuri, 탳i v캒 recomand s-o face탵i 탳i voi. De ce?</p><h4 id=item-28-prefer-lists-to-arrays>Item 28: Prefer lists to arrays</h4><p>Conform <em>Effective Java by Joshua Bloch</em>, cod precum</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>// Va esua la runtime!
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Long<span style=color:#f92672>[]</span> objectArray <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Long<span style=color:#f92672>[</span>1<span style=color:#f92672>];</span>
</span></span><span style=display:flex><span>objectArray<span style=color:#f92672>[</span>0<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;I don&#39;t fit in&#34;</span><span style=color:#f92672>;</span> <span style=color:#75715e>// ArrayStoreException: tipul array-ului este Long, dar memoram un String
</span></span></span></code></pre></div><p>este considerat corect (pentru c캒 e탳ueaz캒 abia la runtime). Acest cod, 칥ns캒</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>// Nu se va compila
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>List<span style=color:#f92672>&lt;</span>Long<span style=color:#f92672>&gt;</span> ll <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ArrayList<span style=color:#f92672>&lt;</span>Long<span style=color:#f92672>&gt;();</span> <span style=color:#75715e>// tipuri incompatibile
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>ll<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;I don&#39;t fit in&#34;</span><span style=color:#f92672>);</span>
</span></span></code></pre></div><p>este considerat gre탳it. Desigur, el este gre탳it 칥n ambele cazuri (nu po탵i pune un <code>String</code> 칥ntr-un container de tip <code>Long</code>), dar cu un array afli despre asta dup캒 ce programul ruleaz캒 (runtime), 칥n timp ce cu un list - la compile time (dup캒 ce programul a fost compilat, deci 칥nainte de a rula).</p><p>El (Joshua) men탵ioneaz캒 칥nc캒 o diferen탵캒, ce 탵ine de integrarea cu generici, dar nu o includ aici, pentru c캒 칥nc캒 nu 탳tiu prea multe despre ei. Dac캒 voi sunte탵i interesa탵i, citi탵i cartea.</p><h3 id=programare--aproape--func탵ional캒-탳i-clasa-stream>Programare (aproape)func탵ional캒 탳i clasa <code>stream</code></h3><h4 id=func탵iile-lambda>Func탵iile lambda</h4><h4 id=pu탵in-despre-programarea-func탵ional캒>Pu탵in despre programarea func탵ional캒</h4><p>칉n limbajele de programare func탵ional캒, instrumentul de baz캒 este (<em>a탵i ghicit</em>) func탵ia. 칉n astfel de limbaje avem func탵ii care primesc func탵ii ca parametru, 탳i returneaz캒 alte func탵ii. Java nu este un limbaj func탵ional, 탳i totu탳i ea (pe l칙ng캒 multe alte limbaje populare ast캒zi) 칥mprumut캒 lucruri din programarea func탵ional캒. Desigur, implementarea lor, sintaxa 탳.a.m.d variaz캒 mult (sunt, p칙n캒 la urm캒, dou캒 paradigme diferite), 칥ns캒 esen탵a r캒m칙ne tot acolo (dac캒 칥탵i 칥ncruntezi privirea, a탳a 칥nc칙t ochii t캒i seam캒n캒 cu cei ai unui asian).</p><p>Ceea ce ne apropie de programarea func탵ional캒 este <code>stream</code>. Nu 탳tiu prea multe despre ea. Mul탵umesc lui Dumnezeu c캒 exista Intellij, care scrie 80% din cod pentru mine. 탲tiu doar c캒 este a탳a clas캒 sau metod캒 - <code>stream</code>, care face magia.</p><p>O func탵ie lambda e pur 탳i simplu o func탵ie f캒r캒 nume. S캒 presupunem c캒 avem codul urm캒tor:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>sum</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> a<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> b<span style=color:#f92672>)</span> <span style=color:#f92672>{</span> <span style=color:#66d9ef>return</span> a <span style=color:#f92672>+</span> b<span style=color:#f92672>;</span> <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>afiseazaSumaDouaNumere</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>sum<span style=color:#f92672>(</span>3<span style=color:#f92672>,</span> 5<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>Desigur, nimeni treaz la cap nu scrie astfel de cod (dac캒 vrei s캒 afi탳ezi c칙t e 3 + 5 afi탳ezi c칙t e 3 + 5), dar s캒 ignor캒m acest lucru pentru moment. S캒 presupunem c캒 avem o astfel de func탵ie, care este folosit캒 de o alt캒 func탵ie, 탳i numai o dat캒. <code>sum</code> este folosit캒 doar de metoda <code>afiseazaSumaDouaNumere</code>, 칥n interiorul ei, 탳i nic캒ieri altundeva. Ei bine, am putea face ceva ca:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>afiseazaSumaDouaNumere</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>((</span>3<span style=color:#f92672>,</span> 5<span style=color:#f92672>)</span> <span style=color:#f92672>-&gt;</span> <span style=color:#f92672>{</span><span style=color:#66d9ef>return</span> 3 <span style=color:#f92672>+</span> 5<span style=color:#f92672>;});</span> <span style=color:#75715e>// ia ca parametri doua numere oricare, returneaza suma
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>Codul de mai sus, chiar dac캒 nu func탵ioneaz캒 din punct de vedere al limbajului, are sens, 탳i exprim캒 ceea ce vrem s캒 facem. Nu e nevoie s캒 define탳ti o func탵ie care face ceva simplu, 탳i pe care oricum o vei folosi o singur캒 dat캒. <strong>Programatorii, la fel ca matematicienii, sunt oameni leno탳i.</strong> De ce s캒 define탳ti o func탵ie, c칙nd po탵i s캒 nu o define탳ti?</p><h4 id=iteratorii>Iteratorii</h4><p>Este destul de greu de explicat ce sunt iteratorii cu cuvinte, a탳a c캒 o s-o fac prin exemple. Ceea ce trebuie s캒 탵ine탵i minte e c캒 fiecare iterator ia ca parametri cel pu탵in 2 lucruri: o func탵ie 탳i o colec탵ie (o list캒), asupra c캒reia s캒 aplice func탵ia. 칉n Java, 칥ns캒, acestea iau un singur lucru (ca parametru, 칥n orice caz), 탳i anume func탵ia. Colec탵ia este specificat캒 deodat캒, atunci c칙nd folosim metoda <code>.stream()</code> pe ea.</p><ul><li><p><code>map</code></p><p><code>map</code> ia ca parametru o func탵ie, pe care o aplic캒 fiec캒rui element al colec탵iei. Rezultatul iteratorului <code>map</code> este o colec탵ie, 칥n care fiecare element este rezultatul aplic캒rii func탵iei pe elementul colec탵iei. 칉n exemplul de mai jos, vom crea un nou <code>ArrayList</code>, 칥n care fiecare element este elementul respectiv din <code>numere</code> + 1.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>ArrayList<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;</span> numere <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> ArrayList<span style=color:#f92672>&lt;&gt;(</span>List<span style=color:#f92672>.</span><span style=color:#a6e22e>of</span><span style=color:#f92672>(</span>1<span style=color:#f92672>,</span>2<span style=color:#f92672>,</span>5<span style=color:#f92672>,</span>9<span style=color:#f92672>,</span>11<span style=color:#f92672>,</span>4<span style=color:#f92672>,</span>7<span style=color:#f92672>,</span>2<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ArrayList<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;</span> numereNou <span style=color:#f92672>=</span> <span style=color:#f92672>(</span>ArrayList<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;)</span> numere<span style=color:#f92672>.</span><span style=color:#a6e22e>stream</span><span style=color:#f92672>().</span><span style=color:#a6e22e>map</span><span style=color:#f92672>(</span>element <span style=color:#f92672>-&gt;</span> element <span style=color:#f92672>=</span> element <span style=color:#f92672>+</span> 1<span style=color:#f92672>).</span><span style=color:#a6e22e>collect</span><span style=color:#f92672>(</span>Collectors<span style=color:#f92672>.</span><span style=color:#a6e22e>toList</span><span style=color:#f92672>());</span>
</span></span></code></pre></div><p>Destul de greu de citit, nu-i a탳a? De asta, v캒 recomand ca atunci c칙nd folosi탵i cel pu탵in dou캒 metode ca <code>.numeMetoda()</code> 칥n stream-ul vostru, s캒 le separa탵i pe linii.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>ArrayList<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;</span> numereNou <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>(</span>ArrayList<span style=color:#f92672>&lt;</span>Integer<span style=color:#f92672>&gt;)</span> numere<span style=color:#f92672>.</span><span style=color:#a6e22e>stream</span><span style=color:#f92672>()</span>           <span style=color:#75715e>// (1)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                        <span style=color:#f92672>.</span><span style=color:#a6e22e>map</span><span style=color:#f92672>(</span>element <span style=color:#f92672>-&gt;</span> element <span style=color:#f92672>=</span> element <span style=color:#f92672>+</span> 1<span style=color:#f92672>)</span> <span style=color:#75715e>// (2)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                        <span style=color:#f92672>.</span><span style=color:#a6e22e>collect</span><span style=color:#f92672>(</span>Collectors<span style=color:#f92672>.</span><span style=color:#a6e22e>toList</span><span style=color:#f92672>());</span>         <span style=color:#75715e>// (3)
</span></span></span></code></pre></div><p>탲i acum, hai s캒 analiz캒m pe linii.</p><ol><li><code>(ArrayList&lt;Integer>)</code> - asta se nume탳te <em>cast</em>, 탳i reprezint캒 o transformare, dintr-un tip 칥n altul. E nevoie s캒 <em>cast</em>-uim, pentru c캒 칥n linia 3, metoda <code>.collect(Collectors.toList())</code> nu specifica tipul listei.
<code>numere.stream()</code> - sintaxa de folosire. Asta e ceea ce transform캒 obiectul nostru 칥ntr-un obiect ciotkii 游땙.</li><li><code>.map(element -> element = element + 1)</code> - Apelul func탵iei <code>.map()</code> cu o lambda, care ia un argument 탳i 칥i adaug캒 1. Aceast캒 func탵ie va crea o list캒 nou캒, 칥n care fiecare element este elemenmtul din lista <code>numere</code> + 1. O s캒 accentuez faptul c캒 <code>.map(...)</code> <strong>nu modific캒 lista numere, ci creeaz캒 o list캒 nou캒</strong>.</li><li><code>.collect(Collectors.toList())</code> - ceea ce transform캒 rezultatul aplic캒rii <code>map</code>-ului 칥ntr-o list캒. Nu 탳tiu prea bine cum func탵ioneaz캒, dar presupun c캒 <code>map</code> nu creaz캒 obiectul propriu-zis, ci 칥l p캒streaz캒 칥n memorie, iar <code>.collect()</code> 칥l ia din memorie 탳i 칥l transform캒 칥n valoare.</li></ol></li></ul></article><span class="f6 gray mv3" title="Lastmod: January 1, 2021. Published at: 2021-01-01."></span><footer><div><p class="f6 gray mt6 lh-copy">춸 2020-2050 <a href=https://github.com/owhyy/website-hugo>Babin Ion</a>.</p></div></footer><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/highlight.min.js></script>
<script>hljs.initHighlightingOnLoad()</script></body></html>